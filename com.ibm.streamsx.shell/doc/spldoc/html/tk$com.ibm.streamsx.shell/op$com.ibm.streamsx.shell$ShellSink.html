<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="reference"/>
<meta name="DC.Title" content="Operator ShellSink"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="spldoc_operator"/>
<link rel="stylesheet" type="text/css" href="../../html/commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../html/spldoc.css"/>
<title>Operator ShellSink</title>
</head>
<body id="spldoc_operator">


<h1 class="title topictitle1">Operator <tt class="ph tt">ShellSink</tt></h1>

<div class="body refbody">
<div class="section">
<p class="p">
<a class="xref" href="../toolkits/toolkits.html">Toolkits</a> &gt; <a class="xref" href="tk$com.ibm.streamsx.shell.html">com.ibm.streamsx.shell 2.0.0</a> &gt; <a class="xref" href="ns$com.ibm.streamsx.shell.html">com.ibm.streamsx.shell</a> &gt; ShellSink</p>

</div>

<div class="section splprimop">
  <embed class="image" src="../../image/tk$com.ibm.streamsx.shell/op$com.ibm.streamsx.shell$ShellSink.svg" width="672" height="112"/>
</div>

<div class="section">

<p class="p">ShellSink is an operator for the IBM Streams product that executes a Linux command or command pipeline in a shell. Lines of text received as input tuples from the operator's required input port are written to the command's STDIN input. The command's STDOUT and STDERR output are discarded.
</p>

<p class="p">The command or pipeline is specified as an operator parameter. Command pipelines can be specified with the usual shell pipe character "|".
</p>

<p class="p">The command is executed in separate Linux shell, as specified by the <tt class="ph tt">/bin/sh</tt> program, which is the Bash shell on most Linux systems.
</p>

<p class="p">The ShellSink operator is part of the 'com.ibm.streamsx.shell' toolkit.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Processes and Threads
</h2>

<p class="p">The ShellSink operator creates a separate process to execute the shell command or pipeline, and creates a separate thread within the operator's process to receive output from the command.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Exceptions
</h2>

<p class="p">The ShellSink operator throws an exception if it is unable to execute the  <tt class="ph tt">/bin/sh</tt> program, which is the Bash shell on most Linux systems.
</p>

</div>

<div class="section"><h2 class="title sectiontitle">Sample Applications
</h2>

<p class="p">The network toolkit includes several <a class="xref" href=".././tk$SampleShellSink/tk$SampleShellSink.html">sample applications</a> that illustrate how to use this operator.
</p>

</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Summary</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Ports</dt>

  <dd class="dd">This operator has 1 input port and 1 output port.</dd>

 
 
  <dt class="dt dlterm">Windowing</dt>

  <dd class="dd">This operator does not accept any windowing configurations.</dd>

 
 
  <dt class="dt dlterm">Parameters</dt>

  <dd class="dd">This operator supports 2 parameters.
<p class="p"> Required: 
<a class="xref" href="#spldoc_operator__parameter__command">command</a>

</p>

<p class="p"> Optional: 
<a class="xref" href="#spldoc_operator__parameter__stdinAttribute">stdinAttribute</a>

</p>
</dd>

 
 
  <dt class="dt dlterm">Metrics</dt>

  <dd class="dd">This operator does not report any metrics.</dd>

 
</dl>
</div>

<div class="section"><h2 class="title sectiontitle splhead-1">Properties</h2>

<dl class="dl" compact="compact">
 
  <dt class="dt dlterm">Implementation</dt>

  <dd class="dd">C++</dd>

 
 
  <dt class="dt dlterm"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__providessinglethreadedexecutioncontext">Threading</a></dt>

  <dd class="dd"><tt class="ph tt">Never</tt> - Operator never provides a single threaded execution context.</dd>

 
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set">Input Ports</a></strong></p>
<dl class="dl">
  
   <dt class="dt dlterm">Ports (0)</dt>

   <dd class="dd">
<p class="p">The ShellSink operator has one required input port.
</p>

<p class="p">Lines of text are taken from input tuples and written to the shell command's STDIN input. The <tt class="ph tt">stdinAttribute</tt> parameter specifies the input attribute containing input lines, or if not specified, the first input attribute of type <tt class="ph tt">rstring</tt> is used.
</p>

   <dl class="dl">
    
      <dt class="dt dlterm">Properties</dt>

      <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__optional">Optional</a>: false
     </li>

   </ul>

   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__controlport">ControlPort</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__tuplemutationallowed">TupleMutationAllowed</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowingmode">WindowingMode</a>: NonWindowed
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__input_port_set__windowpunctuationinputmode">WindowPunctuationInputMode</a>: Oblivious
     </li>

   </ul>

      </dd>
    
   </dl>

   <p class="p"/>
   </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set">Output Ports</a></strong></p>
<dl class="dl">
  
     <dt class="dt dlterm">Assignments</dt>

     <dd class="dd">This operator allows any SPL expression of the correct type to be assigned to output attributes.</dd>

  
</dl>

<dl class="dl">
      <dt class="dt dlterm"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__customoutputfunctions">Output Functions</a></dt>

    <dd class="dd">
      <dl class="dl">
      
        <dt class="dt dlterm">STDERR_functions</dt>

        <dd class="dd">
          <dl class="dl">
            <dt class="dt dlterm"/>
<dd class="dd"/>

            
              <dt class="dt dlterm">
                <tt class="ph tt">   rstring commandLine()</tt>              </dt>

            <dd class="dd">

<p class="p">This function can be used in the <tt class="ph tt">output</tt> clause of either output port. It assigns a string value containing the shell command.
</p>
              <p class="p"/>

            </dd>

                        
              <dt class="dt dlterm">
                <tt class="ph tt">   rstring stdinLine()</tt>              </dt>

            <dd class="dd">

<p class="p">This function can be used in the <tt class="ph tt">output</tt> clause of either output port. It assigns a string value containing the most recently received line sent to the shell command's STDIN input.
</p>

<p class="p">Note that shell commands execute asynchronously from the operator, and  may emit no output, or many lines of output, for each input line, so the  value of this function is not synchronized with the output tuples produced  by either output port.
</p>
              <p class="p"/>

            </dd>

                        
              <dt class="dt dlterm">
                <tt class="ph tt">   rstring stderrLine()</tt>              </dt>

            <dd class="dd">

<p class="p">This function can only be used in the <tt class="ph tt">output</tt> clause of output port 1. It assigns a string value containing one line of text written to STDERR by the shell command.
</p>
              <p class="p"/>

            </dd>

                        
              <dt class="dt dlterm">
                <tt class="ph tt">   list&lt;uint64&gt; lineCounters()</tt>              </dt>

            <dd class="dd">

<p class="p">This function can be used in the <tt class="ph tt">output</tt> clause of either output port. It assigns a list of three <tt class="ph tt">uint64</tt> numbers: counts of the shell command's STDIN, STDOUT, and STDERR lines, respectively.
</p>
              <p class="p"/>

            </dd>

                        
              <dt class="dt dlterm">
                <tt class="ph tt">   &lt;any T&gt; T copy()</tt>              </dt>

            <dd class="dd">

<p class="p">Output attributes that match input attributes in name and type are automatically copied from those input attributes in the most recently received input tuple.
</p>

<p class="p">Note that shell commands execute asynchronously from the operator, and  may emit no output, or many lines of output, for each input line, so the  attributes copied are not synchronized with the output tuples produced  by either output port.
</p>
              <p class="p"/>

            </dd>

                      </dl>
        </dd>

      
      </dl>

    </dd>

  </dl>

 <dl class="dl">
  
   <dt class="dt dlterm">Ports (0)</dt>

   <dd class="dd">

<p class="p">The ShellSink operator has one optional output port.
</p>

<p class="p">If output port 0 is configured, it produces a tuple for each line of text  written to STDERR by the shell command. The <tt class="ph tt">stderrAttribute</tt> parameter specifies the output attribute STDERR lines are assigned to, or if not specified, the first output attribute of type <tt class="ph tt">rstring</tt> is used. Alternatively, the function 'stderrLine()' can be used in an <tt class="ph tt">output</tt> clause for port 0 to assign STDERR lines to an output attribute.
</p>

    <p class="p"/>

    <dl class="dl">
     
      <dt class="dt dlterm">Properties</dt>

      <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set__optional">Optional</a>: true
     </li>

   </ul>

   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set__tuplemutationallowed">TupleMutationAllowed</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__output_port_set__windowpunctuationoutputmode">WindowPunctuationOutputMode</a>: Preserving
     </li>

   </ul>

</dd>
     
    </dl>

    <p class="p"/>

   </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters">Parameters</a></strong></p>

<dl class="dl">
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__command"><!-- --></a><tt class="ph tt">command</tt></dt>

     <dd class="dd">
<p class="p">This required parameter takes an expression of type <tt class="ph tt">rstring</tt> that specifies the shell command  or pipeline to be executed by the operator. 
</p>

  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: false
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: AttributeFree
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
  
     <dt class="dt dlterm"><a name="spldoc_operator__parameter__stdinAttribute"><!-- --></a><tt class="ph tt">stdinAttribute</tt></dt>

     <dd class="dd">
<p class="p">This optional parameter specifies an input attribute of type <tt class="ph tt">rstring</tt> that contains lines of  text to be written to the shell command's STDIN input.
</p>

<p class="p">If this parameter is not specified,  STDIN input lines are taken from the first input attribute of type <tt class="ph tt">rstring</tt>.
</p>

  <dl class="dl">
    
     <dt class="dt dlterm">Properties</dt>

     <dd class="dd">   <ul class="sl simple">
     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__type">Type</a>: rstring
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__cardinality">Cardinality</a>: 1
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__optional">Optional</a>: true
     </li>

     <li class="sli"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__parameters__parameter__expressionmode">ExpressionMode</a>: Attribute
     </li>

   </ul>

     <p class="p"/>
     </dd>

    
  </dl>

     </dd>

  
</dl>

</div>

<div class="section">
<p class="p splhead-1"><strong class="ph b"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies">Libraries</a></strong></p>
<dl class="dl">
 
  <dt class="dt dlterm">No description for library.
  </dt>

<dd class="dd"/>
  <dd class="dd"><a class="xref" href="../references/OperatorModel.html#spldoc_reference_operator_model__context__dependencies__managedlibrary__includepath">Include Path</a>: <tt class="ph tt">../../impl/include</tt></dd>

 
</dl>

</div>

</div>


</body>
</html>